### 每周工作总结

#### 10-12 18:09
1. 完成了Rerank公共脚本前端侧的基本样式和功能的开发。
    - 前端后期需支持“简介版ctrl+F”基于函数名在多个文件中进行查找的功能。
    - 前端侧还未实现显示公共脚本被引用列表的UI。


- [ ] TriggerDebug中HG单独支持omgid和hgid。
- [ ] 增删改的时候，要同步更新cite_map的信息，可以用LIKE进行模糊匹配。

#####  10-10 16:15
1. 前端UI暂时仿【实时算法分析】做，但是其前后端居然还没迁移。
2. 迁移KK前后端。

##### 10-09 18:56
2. Trigger模块后端添加对多可操作人的支持，熟悉rerank相关的各种表结构。
3. Rerank脚本添加【公共/普通】脚本类型的前后端支持。
    - [x] rerank_script表添加2个字段，stype or type 表示类型，普通/公共， cite_list表示引用关系，字符串，;分隔吧。
    - [x] 发布时，dispatch的文件名字不要用Rerank{$id}.lua，而是使用脚本名字，所以要控制公共脚本的名字为64位以下的英文名。
    - [ ] <del> 增删改的时候，要同步更新cite_map的信息，可以用LIKE进行模糊匹配。 <del>
    - [x] 需求一个拉取全部公共脚本id + name的接口。
    - [x] 仿【实时算法分析】做普通脚本引用公用脚本操作的UI。
    - [x] 点击触发'require(xxxxxx)'的clipboard拷贝。

##### 10-08 18:46 
1. Trigger模块前端侧添加多可操作人，发布时发送异步请求，升级Trigger模块发布时的逻辑控制。 
    - 如何解决支持多操作人后的检索问题？ __MySQL LIKE clause 或者 建立一张双向map表。__
    - Trigger的前端样式是不是可以同步升级为Rerank脚本的形式？ __近期都没时间升级！__
    - 应用流量和默认字典是不是可以换个地方？ __没时间，别换了。__

----------------

#### 2018-09-30
1. Rerank发布限制，快速发布和历史跳转回来继续发布等功能的开发。
2. 熟悉并梳理召回诊断后端代码，解决一些前后端字段没对齐的bug，响应并解决数据白板图片拉取为空等的问题。
3. 编写工具集合中召回诊断，流量测试和数据白板的wiki。
4. 熟悉投放系统大致流程。 


#### 2018-09-21
1. 优化Rerank脚本的前端发布逻辑和流程，添加发布限制和快速发布新功能。
2. 迁移Mcall后台代码及cron任务，在`CheckErrorData`中添加`total_cnt > 10`和`passive_bucket_id is not null`的db检索限制。
3. 在数据白板拉取图片的接口中，通过单独处理key，以解决key不是合法video_id时导致批量拉取视频信息失败，以致无法在前端正确显示图片的问题。
4. 修复多处因迁移新后台导致的`$this->db`需升级为`$this->tool_model->db`的问题。
5. 更新`PermissionAdmin`中接口`GetList`和`GetUserConfig`以适配新的使用需求。

#### 2018-09-14
1. 迁移数据白板前后端检索数据的接口。
2. * 解决Dtools的ssh命令中ip缺失的问题。
3. * 解决消费者列表在状态修改后没有刷新页面的bug。
4. 在标签查询中添加媒体详细信息展示对话框。
5. 对接rerank脚本diff逻辑，使用npm-diff，完成脚本对比php前端的开发，并解决在平台前端的rerank脚本发布历史中，关联的跳转链接，因#的缺少导致chrome拦截的问题。
6. 迁移操作日志相关接口。
7. 同步更新召回诊断前端接口调用。
8. * 熟悉数据白板，rerank脚本diff和安全配置相关的后台代码。

#### 2018-09-07
1. 修改个性化配置的get/set接口。
2. 整理负责项目的相关信息。（09-03）
3. 解决【实时效果分析】中Y轴过多时视图框被挤压过窄的问题。（09-04）
4. Mcall列表页添加对"平均耗时"排序的支持。（09-04）
5. 修复【订阅列表】中添加订阅（生产者和消费者），订阅时同步接口改为异步。（09-05）
6. 同步后端，进行前端侧【模块管理】部分的接口迁移适配。

#### 2018-08-31
1. 【过滤模块】前端适配。
2. 一些小的细节优化，有前端的在数据白板中添加解析说明，有后端的例如获取用户信息的接口升级。
3. 了解讨论告警列表的需求。 

#### 2018-08-24
1. 开发【Filter脚本】，除了脚本的编译，对比，和运行，基本都完成了，还需要一些测试。
2. 研究并解决【召回诊断】里面输入框过宽的问题，已上线。
3. 日常一些系统优化。

#### 2018-08-17
1. 同步2.0后端更新【流量压测】前端页面和交互。
2. 排查各个使用加载框的组件，添加在异常时进行手动关闭逻辑。
3. 排查2.0后端Crul_model的问题，合并前后两个版本的Crul_model。
4. 完成【标签查询】页面。
5. 优化【召回诊断】，包括页面样式，父子组件通信和交互逻辑等。

#### 2018-08-10
1. 【流量压测】，同【流量测试】一样，进行同步2.0后端的更新。
2. 排查并添加各个组件中，使用加载框，在异常时进行手动关闭。
3. 完成【标签查询】的页面。
3. 同步更新【标签查询】的前端相关样式和功能。
4. 排查Crul_model的问题，合并前后两个版本的Crul_model。
5. 【召回诊断】进行了一次升级，包括：运行界面同步【数据白板】样式，和一些BUG。
6. 我开发的相关组建进行了一些样式和代码风格的统一，进行了针对笔记本的适配。

#### 2018-08-03
1. 完成【安全配置】前端页面的整体开发。
2. 优化【实时效果分析】页面，升级为多Y轴展示，并精简代码。
3. 升级【流量测试】，使用新后台接口，修复保存时对输入检测的逻辑，补充克隆功能。
4. 修复【实验效果分析】，【安全配置】中，当时间日期选择器(el-date-picker)为空时(回传参数为NaN后)，导致与后端接口交互出错的问题

#### 2018-07-27
1. 完成【数据白板】相关优化。
2. 完成【安全配置】中媒体部分相关前端页面的开发。

#### 2018-07-20
1. 解决【数据白板】前后端Bug，优化 ArticleOutputGrid 组件，实现新的需求。
2. 同步更新【用户模拟】，使其样式和操作过程与【数据白板】保持统一。

#### 2018-07-13
1. 完成【数据白板】前后端初版的开发（后端接口暂时只上了测试环境）。
2. 优化【用户模拟】支持多bucket查询后，错误信息的处理和调用后端接口时的同步。
3. 修复【重排脚本】正式上线时，参数处理有误导致发布结果显示有误的问题。
4. 更新ArticleOutputGrid组件，统一和优化使用的数据结构，使其在【数据白板】中复用。

#### 2018-07-06
1. 模块流量应用功能，脚本启动重复进程判断问题修复。
2. 分类统计下的播放的视频数和曝光的视频数，tdw数据修复，媒体等级字段tdw数据修复，分类统计整体联调测试。
3. 标签推荐数据统计相关接口开发，按天查找分类和tag下所有数据，查找分类下所有日期的数据，根据tagid拉取tag信息等功能接口。

#### 2018-06-29
1. 修复各种bug，开发重排脚本对比。

#### 2018-06-22
1. Mcall相关优化，视图宽度动态适配Y轴个数，标题，返回码/返回结果图的更改，添加Mcall整体等等
2. 场景配置添加“默认策略”中，与表 channel_map 相关的后台工作，了解了一下整体流程，主要是振洋支持的通知play和写redis的部分
3. 引入 Fontawsome，是一个前端广泛使用的丰富的图标库，上午了解了一下大概内容，正要尝试使用。
